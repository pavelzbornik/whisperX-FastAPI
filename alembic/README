# Alembic Migrations

This directory contains database migration scripts for the WhisperX FastAPI application.

## Structure

- `env.py`: Migration environment configuration
- `script.py.mako`: Template for generating new migrations
- `versions/`: Individual migration scripts

## Usage

See [docs/database/README.md](../docs/database/README.md) for complete usage instructions.

Quick commands:

```bash
# Apply all migrations
alembic upgrade head

# Create new migration
./scripts/create_migration.sh "description"

# Check current version
alembic current

# View history
alembic history
```

## Migration Naming

Migrations use timestamp-based naming for clear ordering:

- Format: `YYYYMMDD_HHMM_description.py`
- Example: `20251025_1758_initial_schema.py`

## Important Notes

- Never edit migrations that have been applied to production
- Always test both upgrade and downgrade paths
- Review autogenerated migrations before applying
- Commit migration files to git
